{% extends "./base.html" %}
{% load static %}

{% block css %}
    <link rel="stylesheet" href="{% static 'game/css/login.css' %}" />
{% endblock %}
{% block js %}
    <script src="{% static 'game/js/angular-django-csrf-config.js' %}"></script>
    <script src="{% static 'game/text-input-with-label/text-input-with-label.directive.js' %}"></script>
    <script src="{% static 'game/js/login.controller.js' %}"></script>
{% endblock %}

{% block content %}
    <div class="login" ng-controller="LoginController as loginCtrl">
        <form class="login__form" ng-submit="loginCtrl.login()">

            <div class="login__form__title">Log In</div>
            <div class="login__form__error" ng-show="loginCtrl.error" ng-bind="loginCtrl.error"></div>

            <text-input-with-label ng-model="loginCtrl.username"
                                   label="Username"></text-input-with-label>
            <text-input-with-label ng-model="loginCtrl.password"
                                   is-password="true"
                                   ng-change="loginCtrl.clearError()"
                                    label="Password"></text-input-with-label>

            <button class="button" type="submit">Log in</button>
        </form>
        <a class="login__other-action" href="{% url 'game:create_user' %}">Create an account</a>
    </div>
{% endblock %}